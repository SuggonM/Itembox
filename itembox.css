@import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@600&display=swap');

body { background-color: #222; color: #e6e6e6}

.itembox {
	display: inline-grid;
	width: 64px;
	height: 64px;
	font-family: Noto Sans;
	font-size: 12px;
	color: #fff;
	border-radius: 5px;
	/* resize: both;
	overflow: hidden; */
	position: relative; /* ::after has position: absolute */
	vertical-align: middle;
	line-height: initial; /* initializing site's line-height: 1.75 */
	box-sizing: initial;  /* initializing site's box-padding: content-box */
	text-shadow:
	1px    0 0 #000,
   -1px    0 0 #000,
	  0  1px 0 #000,
	  0 -1px 0 #000,
	1px  1px 0 #000,
   -1px -1px 0 #000,
	1px -1px 0 #000,
   -1px  1px 0 #000; /* 1px text outline */
}

.itembox > div { /* all children of itembox */
	grid-area: 1/1; /* forced into single cell to enable overlapping */
}

.itembox > div:not(.item) { /* all children except the item */
	z-index: 1; /* overlay on the item */
	position: relative; /* to position them correctly */
}

.itembox > div:not(.item) img { /* all images except the item */
	height: 18px;
	width: auto;
}

:is(.itembox, .itembox-container) + :is(.itembox, .itembox-container) { /* consecutive itemboxes */
	margin-left: 5px; /* gap between them */
}

.level {
	place-self: start; /* placed top-left */
	top: -3px; /* pull upward */
}

.level > span {
	vertical-align: middle; /* font-size variation middle-aligned */
}

.level-text {
	font-size: 10px;
	color: #caaa87;
}

.banner {
	align-self: start; /* placed top */
	justify-self: end; /* placed right */
	top: -4px; /* pull upward */
	right: -4px; /* pull rightward */
}

.banner img + img { /* consecutive banners */
	margin-left: -1px; /* gap between them */
}

.item {
	place-self: center; /* placed center */
}

.item img {
	max-width: 64px;
	max-height: 64px;
	object-fit: scale-down; /* shrink if unfit */
	image-rendering: pixelated;
}

.grade, .amount {
	align-self: end; /* placed bottom */
	justify-self: center; /* placed center */
	bottom: -5px; /* pull downward */
}

.exclusive-icon { /* kama, bari & mayreel artifacts */
	place-self: end; /* placed bottom-right */
	bottom: -5px; /* pull downward */
	right: -4px; /* pull rightward */
}

.exclusive-icon img {
	height: 22px !important; /* cuz selector has less specificity */
}

.level, .amount {
	overflow: hidden; /* disallow spam */
	max-width: 100%; /* ^ */
	white-space: nowrap; /* ^ */
	padding-inline: 1px; /* pad to prevent text-shadow cutoff */
}

.itembox-container {
	display: inline-flex;
	flex-direction: column;
	align-items: center;
	vertical-align: top;
}

.itembox-caption {
	max-width: 64px;
	text-align: center;
	overflow-wrap: break-word;
}

.itembox.general {
	background-image: var(--background-color-general);
	border: 2px solid var(--border-color-general);
}
.itembox.normal {
	background-image: var(--background-color-normal);
	border: 2px solid var(--border-color-normal);
}
.itembox.rare {
	background-image: var(--background-color-rare);
	border: 2px solid var(--border-color-rare);
}
.itembox.unique {
	background-image: var(--background-color-unique);
	border: 2px solid var(--border-color-unique);
}
.itembox.legend {
	background-image: var(--background-color-legend);
	border: 2px solid var(--border-color-legend);
}
.itembox.epic {
	background-image: var(--background-color-epic);
	border: 2px solid var(--border-color-epic);
}
.itembox.curse {
	background-image: var(--background-color-curse);
	border: 2px solid var(--border-color-curse);
}
.itembox.costume {
	background-image: var(--background-color-costume);
	border: 2px solid var(--border-color-costume);
}
.itembox.special {
	background-image: var(--background-color-special), var(--border-color-special);
	background-clip: content-box, border-box;
	padding: 2px;
}
.itembox.exclusive {
	background-image: var(--background-color-exclusive), var(--border-color-exclusive);
	background-clip: content-box, border-box;
	padding: 2px;
}
.itembox.sc {
	background-image: var(--background-color-sc), var(--border-color-sc);
	background-clip: content-box, border-box;
	padding: 2px;
}
.itembox:hover {
	background: var(--background-color-hover) !important;
	border: 2px solid var(--border-color-hover) !important;
	padding: 0 !important;
}

/* ---- miscellaneous ---- */
.itembox img[src*=mall] {
	scale: 1.25;
}